# Converting FSM to Pipeline

This readme file acts as a step-by-step guide on how to change the FSM based SoC `Release v1.0.0` to a Pipelined Architecture.
## Removing FSM Module
The first step is to remove all the dependencies from the FSM Module so that we can remove it later.
If we look at the FSM Logic, it does the following:
- Update the current stage in each clock cycle
- Update Stage Enable Signals based on the current stage

Extra Logic in FSM Module:
- Updating/Fetching the Instruction, should be done by a FETCH Module
- Determining ALU Operands in EXECUTE Stage based on `pc`, source registers `(rs1 & rs2)` and `immediate value` generated by the Decoder in the previous DECODE Stage.

### TODO
- :white_check_mark: Move Operand selection from FSM to ALU
- :white_check_mark: Add a Fetch Module

We are now ready to remove FSM Module as our dependencies are over, the Fetch module will work for most testcases but we have to meet timing which can be taken care later. Misalligned instruction fetch will fail as of now.